### 文件管理 
- 数据项：文件系统中最低级数据组织形式：
	- 基本数据项：描述一个对象的某种属性的一个值（数据中最小逻辑单位）
	- 组合数据项：多个基本数据项祖晨
- 记录：相关数据项的集合，描述对象在某方面的属性
- 文件：具有文件名的一组相关元素的集合。
- 文件是以硬盘为载体存储在计算机上的信息集合
- 文件系统用于实现对文件的维护管理

- 文件控制块：操作系统通过**文件控制块 FCB**来维护文件元数据
	- FCB 的有序集合就是**文件目录**，一个 FCB 就是一个文件目录项（也可以被视为文件-目录文件）
	- 存储文件的基本信息（文件名、物理位置）；基本控制信息（存取权限）；使用信息（上次修改时间）
- 目录结构：由于检索时可能不需要 FCB 完整信息，可以将文件名与文件描述信息分离，将文件描述信息单独为索引节点，文件目录中的每个目录项进包括文件名和索引节点号（这样就减少了单个条目的大小）
#### 文件的基本操作
- 创建文件：为新文件分配外存空间；在目录中创建目录项
- 删除文件：根据文件名**查找**目录，删除对应的目录项和文件控制块然后回收文件占用的存储空间
- 读写文件：先根据文件名查找目录，找到指定文件的目录项后从中得到文件在外存中的地址，之后利用目录项中的指针进行读写操作
- 访问类型：读、写、执行（装入内存执行）、追加（append）、删除、列表清单（元数据）
- 访问控制
	- 根据用户身份进行控制，对用户进行分类：拥有者、组内其他成员、其他
	- 3（用户类型）\*4（读、写、删除、执行）位表示

- 打开文件：
	- 多次读写一个文件时总需要检索目录，为了减少重复操作，系统维护一个包含所有打开文件信息的表（打开文件表）
	- open 打开文件后将目录项从外存复制到内存的**打开文件表**，并向用户返回**文件描述符**
	- 用户再次打开时可以直接用**文件描述符**从打开文件表获取信息（即只有初次打开才使用文件名）
	-  close 后从打开文件表移除
- 多进程文件
	- 多个进程可以同时打开文件，使用两级表来表示：
		- **系统表**：包含**与进程无关的信息**，如文件在磁盘上的位置、大小等
		- **进程表**：进程对文件的使用信息，如**读写指针**等
	- 一个进程 open 时，在进程表中增加了一个条目，**指向系统表**的对应条目
	- 系统表会维护打开计数器，文件不再（计数器为 0）使用时自动从系统表删除
	- ![a2516ac49185dc6c9f19a90caec8187.jpg|500](https://thdlrt.oss-cn-beijing.aliyuncs.com/a2516ac49185dc6c9f19a90caec8187.jpg)
#### 文件结构
##### 逻辑结构
- 无结构文件：由字符串流组成（流式文件），通过读写指针**以字节的形式进行访问**（只能穷举搜索），源程序、可执行文件等都是。
- 有结构文件：由一个以上的记录构成
	- 定长记录：文件中所有**记录长度都相同**，检索较快（随机访问）
	- 变长记录：长度不一定相同，只能顺序访问，较慢

- 顺序文件
	- 
- 索引文件
	- 
- 索引顺序文件
	- 
- 直接文件/散列文件
	- 
##### 物理结构
- 连续分配


- 链接分配


- 索引分配


#### 目录
#### 文件系统
### IO 管理
#### 设备独立性软件
#### 磁盘