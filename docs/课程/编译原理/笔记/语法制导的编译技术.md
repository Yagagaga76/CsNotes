### 语法制导
- 将文法符号和某些属性相关联，并通过语义规则来**描述如何计算属性的值**
- 如 $E\to E_{1}+T$ 属性 code 代表表达式的逆波兰表示 $E.code = E1.code || T.code || '+'$ ，||表示字符串（逆波兰表达式）的拼接
- 语法制导翻译就是在产生式体中加入语义动作，**在适当时候执行动作**$E\to E_{1}+T \ \ \{print'+'\}$

- 语法制导 SDD 是上下文无关文法和属性、规则的结合
	- 属性和文法符号关联，确定各个文法符号需要哪些属性，对于节点 X 的属性 a，表示为 X.a
	- 规则和产生式相关联

- 语义规则确定了节点上属性的取值和计算
	- 假设使用 type 表示类型，place 表示属性
	- ![image.png|450](https://thdlrt.oss-cn-beijing.aliyuncs.com/20240327103329.png)
	- ![image.png|450](https://thdlrt.oss-cn-beijing.aliyuncs.com/20240327103342.png)

- 综合属性
	- 节点 N 的属性值由 N 的**产生式**所关联的语义规则来定义
	- 即通过**子节点**或 N 本身的属性值来定义
	- 允许依赖于 N 本身的**继承属性**
- 继承属性
	- 结点 N 的属性值由 N 的父结点所关联的语义规则来定义
	- 依赖于 **N 的父结点、N 本身和 N 的兄弟结点**上的属性值（不允许通过子节点来定义）
- 终结符号只有综合属性，没有继承属性：**终结符号**的属性值是**由词法分析器提供的词法值**，SDD 中没有计算终结符号的属性值的语义规则
- ![image.png|525](https://thdlrt.oss-cn-beijing.aliyuncs.com/20240327104217.png)

### SDD
- 只包含**综合属性**的 SDD 称为 **S 属性 SDD**
	- 每个语义规则都根据**产生式体**子节点中的属性值来计算头部非终结符号的属性值
	- S 属性的 SDD 可以和 LR 语法分析器一起实现，通过栈中的属性获取信息
	- 不能处理循环定义：![image.png|400](https://thdlrt.oss-cn-beijing.aliyuncs.com/20240327105245.png)

- 语义规则不应该有复杂的副作用，要求副作用不影响其他属性求值。没有副作用的 SDD 称为**属性文法**
	- 每个语义规则仅仅通过它的输入属性（继承属性和综合属性）计算出其输出属性的值，而**不依赖于外部状态**，也不改变外部状态。
- 一个

- 注释语法分析树：包含了各个节点各属性值的语法分析树
	- 对于任意的输入串，首**先**构造出相应的**分析树** 
	- 给各个结点 (根据其文法符号) **加上相应的属性** 
	- 按照语义规则**计算**这些属性的值
- S 属性的 SDD 一定可以通过**自底向上**的方式求值
- ![image.png|475](https://thdlrt.oss-cn-beijing.aliyuncs.com/20240327105312.png)

- 适用于自顶向下分析的 SSD
	- 对于自顶向下分析需要先去除左递归，但是这又可能破坏结构
	- ![image.png|500](https://thdlrt.oss-cn-beijing.aliyuncs.com/20240327114522.png)
	- 