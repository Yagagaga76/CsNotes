{"path":"pdf/金融风险管理/12 信用风险价值cvar.pdf","text":"信用风险价值CVaR 主讲教师：刘烨 南京大学工程管理学院 Financial Risk Management 第12章 1 目录 • 1. CVaR的定义 • 2. Credit Risk Plus模型 • 3. CreditMetrics模型 • 4. 应用案例 2 1.CVaR的定义 • 信用损失CL (Credit Loss)：由信用风险所引起的损失。 • 预期损失EL (Expected Loss)： • 一定置信度c下的最大可能损失WCL（Worst-Case Loss）： • 信用风险价值CVaR（Credit VaR）： 3 Pr ( WCL) 1ob CL c≤= − []EL E CL= CVaR UL WCL EL= = − 目录 • 1. CVaR的定义 • 2. Credit Risk Plus模型——基于财险精算方法的违约模型 • 3. CreditMetrics模型 • 4. 应用案例 4 均来源于实务界，是 实践中常用的方法。 2. Credit Risk Plus模型（基本思想） • CreditRisk+模型由瑞士信贷银行（Credit Suisse）金融产品部提出， • 基本思想来源于财产保险方法：贷款违约事件与住房失火事件相似，贷款违约概率 分布也符合Possion分布的特征。 • 失火行为是随机的，单栋住房失火概率为P， P很小； • 每栋住房的失火行为与其他住房无关； • 在一个时期失火的住房数量与另一时期的失火住房数量无关； • 给定期间内，住房失火的概率分布服从泊松分布： • n=0,1,2,3,….， 是的均值（一定时期内平均的失火住房数量） 5 () ! ne Pn n λλ − =栋住房失火 λ 2. Credit Risk Plus模型（基本思想） • CreditRisk+模型由瑞士信贷银行（Credit Suisse）金融产品部提出， • 基本思想来源于财产保险方法：贷款违约事件与住房失火事件相似，贷款违约概率 分布也符合Possion分布的特征。 • 违约行为是随机的，单个债务人违约概率为P， P很小； • 每个债务人的违约行为与其他债务人无关； • 所有债务人在一个时期发生的违约数量与另一时期的违约数量无关； • 给定期间内，违约的概率分布服从泊松分布： • 一旦违约，信用损失 = 违约损失率(LGD)×信用暴露(EAD)，如果不违约，信用损失为0 • 在此基础上计算信用损失CL的分布、EL、CVaR。 6 ! )( n e nP n λλ − =个债务人违约 2. Credit Risk Plus模型（基本思想） • CreditRisk+模型由瑞士信贷银行（Credit Suisse）金融产品部提出， • 基本思想来源于财产保险方法：贷款违约事件与住房火灾保险相似，贷款违约概率 分布也符合Possion分布的特征。 • 违约行为是随机的，单个债务人违约概率为P，P很小； • 每个债务人的违约行为与其他债务人无关； • 所有债务人在一个时期发生的违约数量与另一时期的违约数量无关； • 给定期间内，违约的概率分布服从泊松分布： • 一旦违约，信用损失CL = 违约损失率(LGD)×信用风险暴露(EAD); 如果不违约，信用损失CL=0 • 在此基础上计算信用损失CL的分布、EL、CVaR。 7 ! )( n e nP n λλ − =个债务人违约 2. Credit Risk Plus模型（具体流程） Step 1：风险暴露 频段分级 Step 2：计算各个 频段级贷款的违约 概率及损失分布 Step 3：计算N 笔 贷款组合的违约概 率和损失分布 Step 4：计算N笔 贷款组合的信用 VaR 8 2. Credit Risk Plus模型（具体流程） Step 1：风险暴露频段分级。 1. 设定风险暴露频段值，记为L，比如L=2万美元； 2. 用N笔贷款中最大一笔贷款风险暴露值除以频段值 L，取整后得到 m 个风险 暴露频段级，依次为 ； 3. 将每笔贷款的风险暴露数量除以频段值 L，取整后将该笔贷款归类到对应的 频段级，照此可将所有贷款归类。 9 12, ,..., mνν ν 2. Credit Risk Plus模型（具体流程） Step 2：计算各个频段级贷款的违约概率及损失分布。 1. 假设处于 频段级的贷款的平均违约数为 ； 2. 求出处于 频段级有 j 笔违约的概率及其对应的损失： 10 iν iλ iν () , ! j i ii ie P j j L j iL j − = = ⋅= ⋅损失 λ λ 2. Credit Risk Plus模型（具体流程） Step 3：计算所有频段贷款组合的违约概率和损失分布。 1. 假设N笔贷款中处于 频段级的违约数为 ni，根据Li=L×i 可计算出损失为： 2. 对应于违约组合 的N笔贷款组合的违约概率为： 3. 令G 表示满足 的所有不同违约组合 ； 4. N 笔贷款组合的违约损失等于 nL 的概率： 11 iν 11 2 2 1 2... ( 2 ... )mm mL n L n L n n n mn L+ ++ = + ++ ⋅ 12( , ,..., )mnn n 12 m 1 (n ,n , ,n ) ! m i i i ni ie P n λ λ − = = ∏ ∈ = = ∑   （ ）12 n 12 m , ,, (损失 ) ( n ,n , ,n ) mnn n G P nL P 122 ,..., mn n mn n+ ++ = 12( , ,..., )mnn n 2. Credit Risk Plus模型（具体流程） Step 3：计算所有频段贷款组合的违约概率和损失分布。 1. 假设N笔贷款中处于 频段级的违约数为 ni，根据Li=L×i 可计算出损失为： 2. 对应于违约组合 的N笔贷款组合的违约概率为： 3. 令G 表示满足 的所有不同违约组合 ； 4. N 笔贷款组合的违约损失等于 nL 的概率： 12 iν 11 2 2 1 2... ( 2 ... )mm mL n L n L n n n mn L+ ++ = + ++ ⋅ 12( , ,..., )mnn n 12 m 1 (n ,n , ,n ) ! m i i i ni ie P n λ λ − = = ∏ ∈ = = ∑   （ ）12 n 12 m , ,, (损失 ) ( n ,n , ,n ) mnn n G P nL P 122 ,..., mn n mn n+ ++ = 12( , ,..., )mnn n 2. Credit Risk Plus模型（具体流程） Step 3：计算所有频段贷款组合的违约概率和损失分布。 1. 假设N笔贷款中处于 频段级的违约数为 ni，根据Li=L×i 可计算出损失为： 2. 对应于违约组合 的N笔贷款组合的违约概率为： 3. 令G 表示满足 的所有不同违约组合 ； 4. N 笔贷款组合的违约损失等于 nL 的概率： 13 iν 11 2 2 1 2... ( 2 ... )mm mL n L n L n n n mn L+ ++ = + ++ ⋅ 12( , ,..., )mnn n 12 m 1 (n ,n , ,n ) ! m i i i ni ie P n λ λ − = = ∏ ∈ = = ∑   （ ）12 n 12 m , ,, (损失 ) ( n ,n , ,n ) mnn n G P nL P 122 ,..., mn n mn n+ ++ = 12( , ,..., )mnn n 2. Credit Risk Plus模型（具体流程） Step 3：计算所有频段贷款组合的违约概率和损失分布。 1. 假设N笔贷款中处于 频段级的违约数为 ni，根据Li=L×i 可计算出损失为： 2. 对应于违约组合 的N笔贷款组合的违约概率为： 3. 令G 表示满足 的所有不同违约组合 ； 4. N 笔贷款组合的违约损失等于 nL 的概率： 14 iν 11 2 2 1 2... ( 2 ... )mm mL n L n L n n n mn L+ ++ = + ++ ⋅ 12( , ,..., )mnn n 12 m 1 (n ,n , ,n ) ! m i i i ni ie P n λ λ − = = ∏ ∈ = = ∑   （ ）12 n 12 m , ,, (损失 ) ( n ,n , ,n ) mnn n G P nL P 122 ,..., mn n mn n+ ++ = 12( , ,..., )mnn n 2. Credit Risk Plus模型（具体流程） Step 3：计算所有频段贷款组合的违约概率和损失分布。 1. 假设N笔贷款中处于 频段级的违约数为 ni，根据Li=L×i 可计算出损失为： 2. 对应于违约组合 的N笔贷款组合的违约概率为： 3. 令G 表示满足 的所有不同违约组合 ； 4. N 笔贷款组合的违约损失等于 nL 的概率： 15 iν 11 2 2 1 2... ( 2 ... )mm mL n L n L n n n mn L+ ++ = + ++ ⋅ 12( , ,..., )mnn n 12 m 1 (n ,n , ,n ) ! m i i i ni ie P n λ λ − = = ∏ ∈ = = ∑   （ ）12 12 m , ,, (损失 ) (n ,n , ,n ) mnn n G P nL P 122 ,..., mn n mn n+ ++ = 12( , ,..., )mnn n Step 4：根据得到的违约 概率和损失分布，进一步 计算出EL、WCL、UL。 目录 • 1. CVaR的定义 • 2. Credit Risk Plus模型 • 3. CreditMetrics模型 • 4. 应用案例 16 3. CreditMetrics模型 • CreditMetrics模型由J.P. Morgan、美国银行、KMV和瑞士银行等金 融机构于1997年推出，基本流程为： 17 1. 评级体系的选择与信用 等级转移矩阵的确定； 2. 根据债务人期末可能转 移到的信用等级所对应的信 用资产组合价值，建立信用 资产组合的价值分布 3. 得到一定置信度水平下 信用资产组合的VaR，即信 用在险价值或CVaR。 CreditMetrics能计算违约和降级两种情 形下的CVaR。 Credit Risk+只能计算违约情形下的 CVaR。 3. CreditMetrics模型（单资产例子） 例：一项5年期、每年末支付利率为6%的利息、本金为100百万美元的贷款，持 有一年，计算信用VaR。 • 假设有包括违约在内的八个信用等级，债务人现在的信用等级为BBB级。 • 选取标普的信用等级转移概率矩阵。 18 表： 标准普尔公司给出的一年内从某一信用等级转化为另一信用等级的转移概率矩阵（%） 初始等级 一年后等级 AAA AA A BBB BB B CCC 违约 AAA 90.81 8.33 0.68 0.06 0.12 0 0 0 AA 0.7 90.65 7.79 0.64 0.06 0.14 0.02 0 A 0.09 2.27 91.05 5.52 0.74 0.26 0.01 0.06 BBB 0.02 0.33 5.95 86.93 5.3 1.17 1.12 0.18 BB 0.03 0.14 0.67 7.73 80.53 8.84 1 1.06 B 0 0.11 0.24 0.43 6.48 83.46 4.07 5.2 CCC 0.22 0 0.22 1.3 2.38 11.24 64.86 19.79 3. CreditMetrics模型（单资产例子） 例：一项5年期、每年末支付利率为6%的利息、本金为100百万美元的贷款，持 有一年，计算信用VaR 。 • 假设有包括违约在内的八个信用等级，债务人现在的信用等级为BBB级。 • 若第一年末债务人的信用等级上升到AA级，则该笔贷款1年后的远期价值为： 19 19.109 0517.1 106 0478.1 6 0422.1 6 0365.1 6 6 432 =++++=AAV 表： 各个信用等级的贷款从第1年末开始的不同期限的年化远期利率（%） 种类 1年 2年 3年 4年 AAA 3.6 4.17 4.73 5.12 AA 3.65 4.22 4.78 5.17 A 3.72 4.32 4.93 5.32 BBB 4.1 4.67 5.25 5.63 BB 5.55 6.02 6.78 7.27 B 6.05 7.02 8.03 8.52 CCC 15.05 15.02 14.03 13.52 3. CreditMetrics模型（单资产例子） 例：一项5年期、每年末支付利率为6%的利息、本金为100百万美元的贷款，持 有一年，计算信用VaR 。 • 假设有包括违约在内的八个信用等级，债务人现在的信用等级为BBB级。 • 该笔贷款1年期后的价值分布： 20 表： BBB级贷款1年后的价值分布 年末评级 转移概率（%） 远期价值(百万美元) AAA 0.02 109.37 AA 0.33 109.19 A 5.95 108.66 BBB 86.93 107.55 BB 5.30 102.02 B 1.17 98.1 CCC 0.12 83.64 违约 0.18 51.13 3. CreditMetrics模型（单资产例子） 例：一项5年期、每年末支付利率为6%的利息、本金为100百万美元的贷款，持 有一年，计算信用VaR 。 • 假设有包括违约在内的八个信用等级，债务人现在的信用等级为BBB级。 • 该笔贷款1年期后的价值分布： 21 表： BBB级贷款1年后的价值分布 年末评级 转移概率（%） 远期价值(百万美元) 信用损失 AAA 0.02 109.37 107.09-109.37 AA 0.33 109.19 107.09-109.19 A 5.95 108.66 107.09-108.66 BBB 86.93 107.55 107.09-107.55 BB 5.30 102.02 107.09-102.02 B 1.17 98.1 107.09-98.1 CCC 0.12 83.64 107.09-83.64 违约 0.18 51.13 107.09-51.13 该笔贷款1年末在95%的置信度下的 WCL=107.09-102.02=5.07(百万美元) 在99%的置信度下的WCL=107.09- 98.10=8.99(百万美元) 其中，107.09是一年远期价值的均值。 3. CreditMetrics模型（两资产） Case 1： 正态分布下两笔信用资产组合的VaR计算：  1. 计算两种信用资产收益率之间的相关系数；  2. 计算两种信用资产的联合信用等级转移矩阵；  3. 计算每笔信用资产对应期限的远期价值；  4. 确定每个联合转移概率所对应的信用资产组合的价值 ；  5. 在正态假定下，直接得到信用资产组合对应于置信度 c 下的VaR： 22 1( )CVaR c σ −= Φ× 3. CreditMetrics模型（两资产） Case 2：实际分布下两笔信用资产组合的VaR计算：  1. 信用资产组合价值收益率实际并不服从正态分布，而是呈现出明显的非 对称性和尖峰厚尾性；  2. 事实上，Case 1 第四步中求得每个联合转移概率对应的信用资产组合价 值后，就可得到信用资产组合价值的实际分布；  3. 根据实际分布即容易得到对应置信度 c 的 VaR。 23 3. CreditMetrics模型（N个资产） • N项信用资产组合的VaR计算：  假设 N 项信用资产组合的价值服从正态分布，我们用 (V1，V2，…,VN) 表 示N项信用资产价值的组合，则信用资产组合价值的方差为：  在正态假定下，容易计算一定置信度下 N 项信用组合的 VaR。 24 1 22 2 1 2 1 1 1 ( ... ) ( ) 2 ( , ) N NN P N i ij i i j i V V V V CoV V Vσσ σ − = = = + = + + + = ∑ + ∑∑ 目录 • 1. CVaR的定义 • 2. Credit Risk Plus模型 • 3. CreditMetrics模型 • 4. 应用案例 25 研究问题：基于CreditMetrics模型，对银行开展供应链融资业务的信用风险进行测度。 • 数据来源：国内最早开发供应链融资的S银行开展汽车供应链融资业务积累的数据。 银行：融资服务 1+N模式： • 核心企业周围有很多规模较小的 原料供应商（上游企业）和经销 商（下游企业）,这些企业紧密围 绕着核心企业开展业务； • 如果汽车生产商A延迟付款,则该 汽车配件生产商将会出现流动性 紧缺，这时便需要银行通过融资 授信来缓解这类中小公司的资金 压力。 应用案例： 基于CreditMetrics模型的供应链融资风险测度 应用案例： 基于CreditMetrics模型的供应链融资风险测度（续） 研究问题： • 基于CreditMetrics模型，对商业银 行开展供应链融资业务的信用风险进 行测度。 风险来源： • 抵押物 • 融资对象履约能力、清偿能力 • 资本市场融资收益率 • 企业经营状况 • 企业相关性情况 银行：融资服务 应用案例： 基于CreditMetrics模型的供应链融资风险测度（续） 研究问题： • 基于CreditMetrics模型，对商业银 行开展供应链融资业务的信用风险进 行测度。 风险来源： • 抵押物 • 融资对象履约能力、清偿能力 • 资本市场融资收益率 • 企业经营状况 • 企业相关性情况 通过对该银行开展供应链金融业务的业务记录进行分析,提取以下因素作为供应链融资风险度量时 所需的数据： • 供应链融资编码。 • 融资企业所属行业。 • 企业所属供应链编号。 • 初次授信时间。指银行融资业务初始发生的时间 • 授信方式。包括承兑汇票、信用证、贷款等方式 • 融资业务综合信用评级。综合信用评级包括对授信对象的评级和债项评级两部分,其中对授信 对象的评级主要考虑融资对象的履约能力和清偿能力等方面的情况,而在债项评级时主要考虑 发生损失的期望。银行在进行业务评级时需要将两者加权综合,获得该笔业务的综合信用评级 • 授信敞口余额。指银行对企业融资业务的风险敞口。 • 企业存款余额。 • 中间业务收入。 以上九项数据是根据银行开展供应链融资的过程而设计的风险管理手段,不同的供应链融资的数据 结构可能存在差异。我们将分步计算商业银行供应链融资资产组合在险价值。 应用案例： 基于CreditMetrics模型的供应链融资风险测度（续） 利用S银行K分行A汽车供应链、T分行B汽车供应链、R分行C汽 车供应链2009-2011一年中的供应链融资的数据, 对供应链融资 资产组合的价值和风险进行测算。 步骤1：利用历史数据构建供 应链融资信用等级转移矩阵 比如，在n个评级周期中,信用 等级从A级迁移到 A+ 级的信 用等级转移概率。 应用案例： 基于CreditMetrics模型的供应链融资风险测度（续） 对银行从2009-2011年的汽车行业供应链融资的信用 转移进行统计,得到供应链融资信用等级转移矩阵，如 表所示。 步骤1：利用历史数据构建供 应链融资信用等级转移矩阵 比如，在n个评级周期中,信用 等级从A级迁移到 A+ 级的信 用等级转移概率 应用案例： 基于CreditMetrics模型的供应链融资风险测度（续） 步骤2：单笔不同信用等级供应链融资的综合收益率 指商业银行在开展供应链融资时对该信用等级的授信的预期总收益率。通过对银行供应链 融资的收益的来源进行分析, 主要由授信业务利率收益、企业存款使用收益和中间业务收 人三方面构成，即： 存款收益率授信收益率 商业银行存款余额 应用案例： 基于CreditMetrics模型的供应链融资风险测度（续） 步骤3：计算单笔融资业务在业务周期初期的融资业务贴现价值 对于具有多期收益的供应链融资，我们可以利用附息债券定价的方法来计算其在期初的贴 现价值。 本例中，年末核算一次，n=1. 某一特定信用等级金融产品 的到期收益率，作为贴现率 信用等级 金融市场 采用我国债券市场上不同信用等级的1年期 银行间中短期票据的收益率，将其作为不 同信用等级供应链融资的预期收益率。 应用案例： 基于CreditMetrics模型的供应链融资风险测度（续） 步骤4：计算单笔融资业务在险价值 以某笔在年初处于AA-等级的融资为例，测算单笔融资到年末融资业务资产价值可能的 变化。 应用案例： 基于CreditMetrics模型的供应链融资风险测度（续） 步骤4：计算单笔融资业务在险价值 设μ, σ 分别是供应链融资一年后价值的期望和标准差,可得： 应用案例： 基于CreditMetrics模型的供应链融资风险测度（续） 步骤5：计算多笔融资业务资产组合在险价值 根据资产组合理论,供应链融资的资产组合价值的期望值和方差分别为： 供应链融资资产组合价 值期望值 第i项资产与第j项资产之间的相关系数 但由于供应链中中小企业数据不丰富,很难获得相应数据。 对银行实地调研发现，在每条供应链中的中小企业的资产 收益情况高度依赖于核心企业, 核心企业的资产显著增加时 。供应链中中小企业的经营状况和资产收益普遍会改善。 由于核心企业的资产与供应链中中小企业资产收益高度联 系,并且核心企业之间资产的相关性数据可以获得，我们可 以据此得到供应链融资的资产相关系数。 应用案例： 基于CreditMetrics模型的供应链融资风险测度（续） 步骤6：蒙特卡洛模拟和经济资本的核算 将融资金额和信用等级转移概率设置为两个计算初始化数组，根据现有授信数据的构成情 况编写产生“伪随机数” ,作为模拟的输人点。使用蒙特卡罗工具产生组合资产的 在险价值分布，计算过程如下： • 确定每一笔融资业务项目的级别对应值，根据表2的信用等级转移矩阵进行随机过程模 拟得到该笔融资业务在年末落入的信用等级区间，记为这笔资产年末的信用评级。再根 据这个新的信用等级，利用前面部分提到的计算过程计算该单笔资产的资产价值 • 反复以上过程，对所有融资进行测算获得每笔融资的资产价值，然后利用表的相关性矩 阵获得所有融资组合在险价值作为一次测算的结果 • 重复多次（10000次以上）,得到测算结果均值 • 经过模拟，计算出的结果为资产组合价值的期望值和标准差，并得到价值分布图 应用案例： 基于CreditMetrics模型的供应链融资风险测度（续） 步骤6：蒙特卡洛模拟和经济资本的核算 应用案例： 基于CreditMetrics模型的供应链融资风险测度（续） 步骤7：不同供应链风险价值比较 为了更深人地探析不同供应链融资结构和特点对供应链融资风险价值的影响,我们 对三条汽车行业供应链融资的数据按上面的步骤分别进行了测算,得到三条供应链融资 资产组合的风险价值情况如表7所示。 可以发现, 由于供应链的结构和特点存在一定差异性,测算出的一年后供应链融资资产组合 的价值波动性并不相同,致使商业银行应对供应链融资需要留存的不同经济资本。相对而言, S银行T分行B汽车供应链的资产价值波动性最大,风险程度相对最高, R分行C汽车供应链风 险程度相对最低。但是由于K分行的A汽车供应链的授信规模最大,所以银行为应对潜在风险 需要为供应链融资留存最多的经济资本。 应用案例： 基于CreditMetrics模型的供应链融资风险测度（续） • 利用该模型既可帮助商业银行对某一条完整供应链上的融资的风险进行测算,也可以 将一定区域内的供应链融资资产组合的风险进行测算,得到银行开展此项业务的在险 价值变化。 • 对一定区域内的供应链融资资产组合的风险进行测算, 可以揭示银行在宏观经济形势 不佳时可能因为供应链金融时,数值计算和利用模拟结果进行主观判断的方法相结合, 既重视定量结论的参考作用,而面临的最大损失,进而提前计提准备。 • 在利用该方法进行供应链融资风险管理又要重视风险管理者根据风险价值概率分布 情况进行经验判断的作用。 • 在险价值分布图中有一些小概率的潜在风险一旦发生会对商业银行的流动性产生很 大的影响。 应对措施： • 评估这种潜在风险,减少潜在风险较大的资产配置比例或计提相应的风险损失拨备并 准备足够的经济资本 • 转移风险。将供应链融资中会对银行经营产生较大影响的小概率风险通过核心企业 、保险公司等转移,或通过引人更多风险承担者等的形式提高银行的风险抵御能力。 应用案例： 基于CreditMetrics模型的供应链融资风险测度（续） 本章结束 41","libVersion":"0.2.4","langs":""}